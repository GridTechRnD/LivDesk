joaoantunes@ELTNTBSPO1360:/mnt/c/Users/joao.antunes/Documents/CODE/FreeSpace/LivDesk$ curl -I localhost:3000/api
HTTP/1.1 500 Internal Server Error
Content-Type: text/html; charset=UTF-8
X-Meta-Request-Version: 0.8.3
X-Request-Id: f52f9978-b09e-498e-8aed-3f9ad97930d8
X-Runtime: 7.710461
vary: Origin
Set-Cookie: __profilin=p%3Dt; path=/; HttpOnly; SameSite=Lax
Content-Length: 72967

joaoantunes@ELTNTBSPO1360:/mnt/c/Users/joao.antunes/Documents/CODE/FreeSpace/LivDesk$ docker compose logs rails
WARN[0001] /mnt/c/Users/joao.antunes/Documents/CODE/FreeSpace/LivDesk/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion
rails-1  | + git config --global --add safe.directory /app
rails-1  | + rm -rf /app/tmp/pids/server.pid
rails-1  | + rm -rf /app/tmp/cache/bootsnap
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a3/91a647e43bda94': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/3b/343a5e2a91ebf8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/48/e94f8111bf3198': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/48/1749bfb4135d5e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f1/41c6c9000f1013': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f1/1dddd8d0667f03': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f1/b9ab09fbc2ffa3': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f1/a6c3848af71719': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/07/72f909ace5d4e1': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/54/545493f3f3e8ac': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/54/d9bfbe63966c85': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/2e/f22a993a9885b7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/0d/1a5c3a18aea64b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ea/341e0de0f63fb7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ea/704fcc96f9bf5c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/09/9e9103c6081c71': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/09/b9dca4b7d9132a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/09/f37f31f0b2a2f0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6d/a5083092367f51': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6d/aff55eb57afbe7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6d/ce79612881412c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/83/530f28124f6635': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/83/43b86c599e5cfa': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/83/e4fde40558dd4c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/17/857e25e9a42c2d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/92/4d5d00100a2d74': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d0/7f1da0149ec95b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/89/42492cb64b1878': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/89/61dc54790d5979': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ab/8f26516a2f4dde': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ab/f86cfd3d5f0489': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ab/adfd3d7e817a53': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/73/f938d4ec922c26': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/15/577d45c7905e1e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f0/26f608b6bf7cc0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b8/b4ebb32efd3fbb': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b8/3467bb2a7d4a88': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b8/2f2a9bfa609338': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6f/b4447933e7c2c1': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6f/7c512df776190b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6f/9cef8833516e0f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/78/d80130c716f544': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bd/79b47ed8cf3b16': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bd/471a0192601013': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bd/348b839a533f45': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a2/81f9316de1f768': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/3f/5f0e29aea2e294': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/af/86395f708f786f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a4': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/1e/a12269e7842ff7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/1e/ddd671b9e140a3': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/52/ad920b5948f3f5': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/19/ac6d710dbd8773': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/5b/186e36e09b0b97': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/5b/5f8dd384372db5': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/26/e4c7ffc9b19e0f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/26/21620acdf1abba': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/87/6d97a9b6d5b2fe': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/87/26f5115367e88e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/91/009e87b73c39c6': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/74/6e647dab6ef488': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/74/ab44ecd537c4b8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/49/059c5c89dec67a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/49/45bbe19141c15f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/49/82ebd89c093444': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/49/001ea6fe2cea35': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/81/9f958e6eced5c8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/61/2f0c3c3cf5d9c8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/3d/0e4cd3776bad44': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8c/7cc0f93010804d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8c/82c3bcd2df56fd': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8c/56ff95fb4f6fff': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8a/eb437300f74e54': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8a/aa7cff9db1a052': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8a/f17e6731abbf7b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8a/da1f2cb5799dc5': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/0e/228ff3919d368d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/25/7a5efdcd0823d4': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/25/ebc8729bec4325': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/34/0acd874eb7e129': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/34/bdc4ff5bb2b349': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/34/a6a9c4fc1523c1': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/6a/5afcc50d60afe2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/0c/f7b444939fde20': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/0c/a0881cdefbb142': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a0/3ae11eba58c9c6': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a0/2d017d6e5e6d00': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a0/8911e4a98d91e0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/a0/b4acd3230ab8f4': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c3/5eebd28150c593': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c3/7854cf90ca1870': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c3/5419d46a7f5a22': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/70/bb3682789cf4b8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/70/27117e3b22e779': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/dc/7cccd665f98dc0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/0b/c2e77e7d3ac05e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7f/cdda8751e2927e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7f/b3d95dbe678acd': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7f/5ec838d1e490a7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d8/338c3d6eb9c794': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d8/3acee4dae4fa03': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/4b/394eb2c10c8c25': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f8/04c336a99e2407': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/f8/0bc626d7770b5b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/42/a6ac7c1f9f5b61': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b4/f1a770ab78f6a8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b4/79a26707df360d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/44/cd7d6708171af9': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/44/b25f1fce2f0dff': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/22/43bfabbe19b987': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/22/665d9ea8b961fe': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/22/c0b5f9ec8a6a99': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/96/427dcc80f3205c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9a/c191231cde5e55': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9a/8805f9d15e6f88': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9a/c0e8873ac4fd12': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/33/28d3127fcb9453': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/33/04f95015b2530a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/33/57947262bb4c20': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/33/3abd9bb2925a30': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/24/b281b6383679a3': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/cb/edad5a9cab1a13': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/cb/b62d1748a53807': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/cb/1869609d6e07a2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b0/3c6d95c408ea94': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b0/14d23b30c95ce3': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/06/76f9a6cfa046ff': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ef/b80e06c2d42647': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ef/42ffd389311bf2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9d/d04b1fe5356fed': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9d/b43070b1124caf': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/94/8dbe97bc364003': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7b/660cd9b3f3c6d0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7b/5c22aa01751deb': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/4c/2bbe3c03198348': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/4d/ab3f8b9c0fa24f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/4d/f340efb0a3a48c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/05/d7c83b12945a7f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/05/a455332976a40d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/05/933a940790231c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/05/45db8140fc4463': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/05/16f957988010cc': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/98/5658b7e8bdb3aa': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/98/c53b1556f1ec74': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/5d/bfe7a336fe4c94': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/5d/053a91bd9435e2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/7d/83ee88e0672a28': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9e/ab816fd0179f25': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/9e/8b650146f3e04e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/16/9ff20e9630e246': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/16/f7cf33557630ca': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/16/3c0bce819c5728': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b7/3ffcbb5564335e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b7/12902c164ad91d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ff/885966a797b62c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/ff/f36287bfda7c20': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/86/68b12c912f3dc7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/86/80ae00dc87d44f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/88/b634e281b04c0b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/88/ce8c281fdfbc06': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/88/3d87ff83caf878': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/88/ce14fc4a58cdda': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c9/c6375f4a2af73a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c9/85949810e9dad0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c9/dbf1141e1cb83c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c1/78007483bba49d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c1/9a1867be1757ab': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/cc/9728c87c1169c1': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/cc/f00f2bebbe0184': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/72/cd249c6f6df30c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/72/700e4c044b9cfd': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/27/d81994387d8ab7': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/27/4eb4781ed45f5a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/27/356d162909b095': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/27/440f7e29c04b52': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/fe/ce0bc1d3bb105a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c5/38cf016c6d58ca': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c5/62b7d13c76db85': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d3/354dbbe0b9619a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/36/59af6d104f0aa2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/77/0e7257b1bb8835': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/77/5755fc8eb08762': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/aa/41b9e1319b6bbf': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/aa/8a61db15dc0809': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/e4/99121f7d03ae3e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8d/3e46b27683632f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8d/e22e6593e23b8e': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8d/f692ff5119bdb0': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/65/c3b5d42c76f0f2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/39/c4ab3bac16dbd2': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/39/bba4736ee0f904': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/39/3a289d504e530f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/39/94ab9d4575d9ee': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/39/3df1f32100e27d': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/2d/1114700c712201': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/2d/77e4902d3bab92': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/b5/1595951685c66c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d9/5f91f32a9e287b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d9/ba850a0ebac602': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d9/8f9992d64e4815': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/d9/62f3274fd9e19f': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/31/2f560aec0ad930': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/01/30d3369a613266': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bb/d6284643e38486': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bb/4164cb489c96a8': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bb/594c21b00dfbbb': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/bb/4f61c89eb3248c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/29/0d61f0863b848b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/29/86d65c959cf866': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/8e/431d10f99b1801': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/80/c79173627ed14c': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/80/a984da0f7e6e0a': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/80/d7c879eafcf5ee': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c7/fb5c8afb8a6190': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c7/003297a68c60fe': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/c7/9b5a6285018e6b': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/69/6dae6bb13662c6': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/69/5b34dac6690479': No such file or directory
rails-1  | rm: can't remove '/app/tmp/cache/bootsnap/compile-cache-iseq/69/a2a51e4285a490': No such file or directory
rails-1  | + echo 'Waiting for postgres to become ready....'
rails-1  | Waiting for postgres to become ready....
rails-1  | + docker/entrypoints/helpers/pg_database_url.rb
rails-1  | + export 'POSTGRES_PORT=5432'
rails-1  | + PG_READY='pg_isready -h postgres -p 5432 -U postgres'
rails-1  | + pg_isready -h postgres -p 5432 -U postgres
rails-1  | postgres:5432 - no response
rails-1  | + sleep 2
rails-1  | + pg_isready -h postgres -p 5432 -U postgres
rails-1  | postgres:5432 - no response
rails-1  | + sleep 2
rails-1  | + pg_isready -h postgres -p 5432 -U postgres
rails-1  | postgres:5432 - no response
rails-1  | + sleep 2
rails-1  | + pg_isready -h postgres -p 5432 -U postgres
rails-1  | postgres:5432 - accepting connections
rails-1  | + echo 'Database ready to accept connections.'
rails-1  | Database ready to accept connections.
rails-1  | + bundle install
rails-1  | Bundle complete! 130 Gemfile dependencies, 332 gems now installed.
rails-1  | Bundled gems are installed into `/gems`
rails-1  | 2 installed gems you directly depend on are looking for funding.
rails-1  |   Run `bundle fund` for details
rails-1  | + BUNDLE='bundle check'
rails-1  | + bundle check
rails-1  | The Gemfile's dependencies are satisfied
rails-1  | + exec bundle exec rails s -p 3000 -b 0.0.0.0
rails-1  | /gems/ruby/3.4.0/gems/reline-0.3.6/lib/reline/terminfo.rb:2: warning: /usr/local/lib/ruby/3.4.0/fiddle.rb was loaded from the standard library, but will no longer be part of the default gems starting from Ruby 3.5.0.
rails-1  | You can add fiddle to your Gemfile or gemspec to silence this warning.
rails-1  | Also please contact the author of reline-0.3.6 to request adding fiddle into its gemspec.
rails-1  | => Booting Puma
rails-1  | => Rails 7.1.5.1 application starting in development
rails-1  | => Run `bin/rails server --help` for more startup options
rails-1  | Puma starting in single mode...
rails-1  | * Puma version: 6.4.3 (ruby 3.4.4-p34) ("The Eagle of Durango")
rails-1  | *  Min threads: 5
rails-1  | *  Max threads: 5
rails-1  | *  Environment: development
rails-1  | *          PID: 1
rails-1  | * Listening on http://0.0.0.0:3000
rails-1  | Use Ctrl-C to stop
rails-1  | Started HEAD "/api" for 172.18.0.1 at 2025-06-26 20:33:34 +0000
rails-1  | Cannot render console from 172.18.0.1! Allowed networks: 127.0.0.0/127.255.255.255, ::1
rails-1  |
rails-1  | ActiveRecord::PendingMigrationError (
rails-1  |
rails-1  | Migrations are pending. To resolve this issue, run:
rails-1  |
rails-1  |         bin/rails db:migrate
rails-1  |
rails-1  | You have 70 pending migrations:
rails-1  |
rails-1  | db/migrate/20230426130150_init_schema.rb
rails-1  | db/migrate/20230503101201_create_sla_policies.rb
rails-1  | db/migrate/20230509101256_add_index_to_messages_created_at.rb
rails-1  | db/migrate/20230510060828_add_index_to_messages_for_reportings.rb
rails-1  | db/migrate/20230510113208_set_default_empty_string_for_contact_name.rb
rails-1  | db/migrate/20230515051424_update_article_image_keys.rb
rails-1  | db/migrate/20230523104139_add_partial_index_for_resolved_contacts.rb
rails-1  | db/migrate/20230525085402_add_custom_sender_name_toggle.rb
rails-1  | db/migrate/20230608040738_add_processed_message_content_to_messages.rb
rails-1  | db/migrate/20230612103936_add_index_to_reporting_events.rb
rails-1  | db/migrate/20230614044633_add_sender_name_to_in.rb
rails-1  | db/migrate/20230620132319_add_sla_policy_to_conversations.rb
rails-1  | db/migrate/20230620212340_add_waiting_since_to_conversations.rb
rails-1  | db/migrate/20230706090122_sentiment_column_to_messages.rb
rails-1  | db/migrate/20230714054138_add_api_key_sid_to_twilio_sms.rb
rails-1  | db/migrate/20230727065605_add_partial_index_contact_account_id.rb
rails-1  | db/migrate/20230801180936_update_default_status_in_hooks.rb
rails-1  | db/migrate/20230905060223_add_regex_to_custom_attribute_definition.rb
rails-1  | db/migrate/20231011041615_ensure_message_private_not_null.rb
rails-1  | db/migrate/20231013072802_add_icon_to_categories.rb
rails-1  | db/migrate/20231114111614_change_feature_flags_to_bigint_in_accounts.rb
rails-1  | db/migrate/20231129091149_add_snoozed_until_to_notifications.rb
rails-1  | db/migrate/20231201014644_remove_notifications_with_message_primary_actor.rb
rails-1  | db/migrate/20231211010807_add_cached_labels_list.rb
rails-1  | db/migrate/20231219000743_re_run_cache_label_job.rb
rails-1  | db/migrate/20231219073832_add_last_activity_at_to_notifications.rb
rails-1  | db/migrate/20231223033019_refactor_sla_policy_columns.rb
rails-1  | db/migrate/20231223040257_create_applied_slas.rb
rails-1  | db/migrate/20240124054340_add_contact_type_to_contacts.rb
rails-1  | db/migrate/20240124084032_add_middle_name_and_last_name_to_contacts.rb
rails-1  | db/migrate/20240129080827_add_location_and_country_code_to_contacts.rb
rails-1  | db/migrate/20240131040316_remove_imap_inbox_syned_at_from_channel_email.rb
rails-1  | db/migrate/20240207103014_change_applied_sla_sla_status_to_enum.rb
rails-1  | db/migrate/20240213131252_add_blocked_to_contacts.rb
rails-1  | db/migrate/20240215065844_add_meta_to_notifications.rb
rails-1  | db/migrate/20240216055809_add_unique_index_to_applied_slas.rb
rails-1  | db/migrate/20240306201954_change_identifier_type_in_notifications_subscriptions.rb
rails-1  | db/migrate/20240319062553_create_sla_events.rb
rails-1  | db/migrate/20240322071629_convert_cached_label_list_to_text.rb
rails-1  | db/migrate/20240415210313_add_channel_web_widget_to_portals.rb
rails-1  | db/migrate/20240515201632_index_improvements_conversations_contacts.rb
rails-1  | db/migrate/20240516003531_add_index_for_message_type_account_date.rb
rails-1  | db/migrate/20240726220747_add_custom_roles.rb
rails-1  | db/migrate/20240923215335_add_locale_to_article.rb
rails-1  | db/migrate/20241217041352_fix_old_audio_alert_data.rb
rails-1  | db/migrate/20250104200055_create_captain_tables.rb
rails-1  | db/migrate/20250104210328_remove_robin_tables.rb
rails-1  | db/migrate/20250105001414_add_status_to_captain_documents.rb
rails-1  | db/migrate/20250105005821_remove_not_null_from_captain_documents.rb
rails-1  | db/migrate/20250107030743_add_config_to_captain_assistant.rb
rails-1  | db/migrate/20250108031358_create_captain_inbox.rb
rails-1  | db/migrate/20250108211541_remove_index_from_captain_assistants.rb
rails-1  | db/migrate/20250116000103_add_status_to_captain_assistant_responses.rb
rails-1  | db/migrate/20250116061033_convert_document_to_polymorphic_association.rb
rails-1  | db/migrate/20250207040150_add_meta_to_attachment.rb
rails-1  | db/migrate/20250228185548_add_internal_attributes_to_accounts.rb
rails-1  | db/migrate/20250315202035_add_index_to_articles.rb
rails-1  | db/migrate/20250326034635_add_instagram_channel.rb
rails-1  | db/migrate/20250402233933_remove_portal_members.rb
rails-1  | db/migrate/20250410061725_convert_csml_bots_to_webhook_bots.rb
rails-1  | db/migrate/20250416182131_flip_chatwoot_v4_default_feature_flag_installation_config.rb
rails-1  | db/migrate/20250421082927_add_settings_column_to_account.rb
rails-1  | db/migrate/20250421085134_update_auto_resolve_to_mminutes.rb
rails-1  | db/migrate/20250512231036_create_copilot_threads.rb
rails-1  | db/migrate/20250512231037_create_copilot_messages.rb
rails-1  | db/migrate/20250514045638_add_csat_config_to_inboxes.rb
rails-1  | db/migrate/20250523024825_remove_uuid_from_copilot_threads.rb
rails-1  | db/migrate/20250523024826_remove_user_id_from_copilot_messages.rb
rails-1  | db/migrate/20250523031839_change_message_type_to_integer_in_copilot_messages.rb
rails-1  | db/migrate/20250620120000_create_channel_voice.rb
rails-1  |
rails-1  |
rails-1  | ):
rails-1  |
rails-1  | activerecord (7.1.5.1) lib/active_record/migration.rb:755:in 'ActiveRecord::Migration.check_pending_migrations'
rails-1  | activerecord (7.1.5.1) lib/active_record/migration.rb:644:in 'block (2 levels) in ActiveRecord::Migration::CheckPending#call'
rails-1  | activesupport (7.1.5.1) lib/active_support/evented_file_update_checker.rb:63:in 'ActiveSupport::EventedFileUpdateChecker#execute'
rails-1  | activerecord (7.1.5.1) lib/active_record/migration.rb:649:in 'block in ActiveRecord::Migration::CheckPending#call'
rails-1  | activerecord (7.1.5.1) lib/active_record/migration.rb:641:in 'Thread::Mutex#synchronize'
rails-1  | activerecord (7.1.5.1) lib/active_record/migration.rb:641:in 'ActiveRecord::Migration::CheckPending#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:29:in 'block in ActionDispatch::Callbacks#call'
rails-1  | activesupport (7.1.5.1) lib/active_support/callbacks.rb:101:in 'ActiveSupport::Callbacks#run_callbacks'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/callbacks.rb:28:in 'ActionDispatch::Callbacks#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in 'ActionDispatch::Executor#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/actionable_exceptions.rb:16:in 'ActionDispatch::ActionableExceptions#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/debug_exceptions.rb:29:in 'ActionDispatch::DebugExceptions#call'
rails-1  | rack-contrib (2.5.0) lib/rack/contrib/response_headers.rb:23:in 'Rack::ResponseHeaders#call'
rails-1  | meta_request (0.8.3) lib/meta_request/middlewares/headers.rb:18:in 'MetaRequest::Middlewares::Headers#call'
rails-1  | web-console (4.2.1) lib/web_console/middleware.rb:132:in 'WebConsole::Middleware#call_app'
rails-1  | web-console (4.2.1) lib/web_console/middleware.rb:19:in 'block in WebConsole::Middleware#call'
rails-1  | web-console (4.2.1) lib/web_console/middleware.rb:17:in 'Kernel#catch'
rails-1  | web-console (4.2.1) lib/web_console/middleware.rb:17:in 'WebConsole::Middleware#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/show_exceptions.rb:31:in 'ActionDispatch::ShowExceptions#call'
rails-1  | railties (7.1.5.1) lib/rails/rack/logger.rb:37:in 'Rails::Rack::Logger#call_app'
rails-1  | railties (7.1.5.1) lib/rails/rack/logger.rb:26:in 'Rails::Rack::Logger#call'
rails-1  | sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in 'Sprockets::Rails::QuietAssets#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/remote_ip.rb:92:in 'ActionDispatch::RemoteIp#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/request_id.rb:28:in 'ActionDispatch::RequestId#call'
rails-1  | rack (2.2.15) lib/rack/method_override.rb:24:in 'Rack::MethodOverride#call'
rails-1  | rack (2.2.15) lib/rack/runtime.rb:22:in 'Rack::Runtime#call'
rails-1  | activesupport (7.1.5.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in 'ActiveSupport::Cache::Strategy::LocalCache::Middleware#call'    
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/executor.rb:14:in 'ActionDispatch::Executor#call'
rails-1  | actionpack (7.1.5.1) lib/action_dispatch/middleware/static.rb:25:in 'ActionDispatch::Static#call'
rails-1  | rack (2.2.15) lib/rack/sendfile.rb:110:in 'Rack::Sendfile#call'
rails-1  | rack-cors (2.0.0) lib/rack/cors.rb:102:in 'Rack::Cors#call'
rails-1  | rack-mini-profiler (3.2.0) lib/mini_profiler.rb:325:in 'Rack::MiniProfiler#call'
rails-1  | vite_ruby (3.8.0) lib/vite_ruby/dev_server_proxy.rb:22:in 'ViteRuby::DevServerProxy#perform_request'
rails-1  | rack-proxy (0.7.7) lib/rack/proxy.rb:87:in 'Rack::Proxy#call'
rails-1  | railties (7.1.5.1) lib/rails/engine.rb:536:in 'Rails::Engine#call'
rails-1  | puma (6.4.3) lib/puma/configuration.rb:272:in 'Puma::Configuration::ConfigMiddleware#call'
rails-1  | puma (6.4.3) lib/puma/request.rb:100:in 'block in Puma::Request#handle_request'
rails-1  | puma (6.4.3) lib/puma/thread_pool.rb:378:in 'Puma::ThreadPool#with_force_shutdown'
rails-1  | puma (6.4.3) lib/puma/request.rb:99:in 'Puma::Request#handle_request'
rails-1  | puma (6.4.3) lib/puma/server.rb:464:in 'Puma::Server#process_client'
rails-1  | puma (6.4.3) lib/puma/server.rb:245:in 'block in Puma::Server#run'
rails-1  | puma (6.4.3) lib/puma/thread_pool.rb:155:in 'block in Puma::ThreadPool#spawn_thread'#!/usr/bin/env ruby
# frozen_string_literal: true

#
# This file was generated by Bundler.
#
# The application 'bundle' is installed as part of a gem, and
# this file is here to facilitate running it.
#

require "rubygems"

m = Module.new do
  module_function

  def invoked_as_script?
    File.expand_path($0) == File.expand_path(__FILE__)
  end

  def env_var_version
    ENV["BUNDLER_VERSION"]
  end

  def cli_arg_version
    return unless invoked_as_script? # don't want to hijack other binstubs
    return unless "update".start_with?(ARGV.first || " ") # must be running `bundle update`
    bundler_version = nil
    update_index = nil
    ARGV.each_with_index do |a, i|
      if update_index && update_index.succ == i && a =~ Gem::Version::ANCHORED_VERSION_PATTERN
        bundler_version = a
      end
      next unless a =~ /\A--bundler(?:[= ](#{Gem::Version::VERSION_PATTERN}))?\z/
      bundler_version = $1
      update_index = i
    end
    bundler_version
  end

  def gemfile
    gemfile = ENV["BUNDLE_GEMFILE"]
    return gemfile if gemfile && !gemfile.empty?

    File.expand_path("../Gemfile", __dir__)
  end

  def lockfile
    lockfile =
      case File.basename(gemfile)
      when "gems.rb" then gemfile.sub(/\.rb$/, gemfile)
      else "#{gemfile}.lock"
      end
    File.expand_path(lockfile)
  end

  def lockfile_version
    return unless File.file?(lockfile)
    lockfile_contents = File.read(lockfile)
    return unless lockfile_contents =~ /\n\nBUNDLED WITH\n\s{2,}(#{Gem::Version::VERSION_PATTERN})\n/
    Regexp.last_match(1)
  end

  def bundler_requirement
    @bundler_requirement ||=
      env_var_version ||
      cli_arg_version ||
      bundler_requirement_for(lockfile_version)
  end

  def bundler_requirement_for(version)
    return "#{Gem::Requirement.default}.a" unless version

    bundler_gem_version = Gem::Version.new(version)

    bundler_gem_version.approximate_recommendation
  end

  def load_bundler!
    ENV["BUNDLE_GEMFILE"] ||= gemfile

    activate_bundler
  end

  def activate_bundler
    gem_error = activation_error_handling do
      gem "bundler", bundler_requirement
    end
    return if gem_error.nil?
    require_error = activation_error_handling do
      require "bundler/version"
    end
    return if require_error.nil? && Gem::Requirement.new(bundler_requirement).satisfied_by?(Gem::Version.new(Bundler::VERSION))
    warn "Activating bundler (#{bundler_requirement}) failed:\n#{gem_error.message}\n\nTo install the version of bundler this project requires, run `gem install bundler -v '#{bundler_requirement}'`"
    exit 42
  end

  def activation_error_handling
    yield
    nil
  rescue StandardError, LoadError => e
    e
  end
end

m.load_bundler!

if m.invoked_as_script?
  load Gem.bin_path("bundler", "bundle")
end
